"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[2277],{426:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"module-3-digital-twin/assets/performance-validation","title":"Performance Validation for Physics Simulation","description":"Performance Targets","source":"@site/docs/module-3-digital-twin/assets/performance-validation.md","sourceDirName":"module-3-digital-twin/assets","slug":"/module-3-digital-twin/assets/performance-validation","permalink":"/docs/module-3-digital-twin/assets/performance-validation","draft":false,"unlisted":false,"editUrl":"https://github.com/physical-ai-humanoid-robotics-book/physical-ai-humanoid-robotics-book/tree/main/Physical-AI-Humanoid-Robotics-book/docs/docs/module-3-digital-twin/assets/performance-validation.md","tags":[],"version":"current","frontMatter":{}}');var t=i(4848),l=i(8453);const r={},a="Performance Validation for Physics Simulation",o={},c=[{value:"Performance Targets",id:"performance-targets",level:2},{value:"Validation Methodology",id:"validation-methodology",level:2},{value:"Physics Update Time Measurement",id:"physics-update-time-measurement",level:3},{value:"Tools for Performance Measurement",id:"tools-for-performance-measurement",level:3},{value:"Gazebo Statistics",id:"gazebo-statistics",level:4},{value:"ROS 2 Tools",id:"ros-2-tools",level:4},{value:"Performance Optimization Guidelines",id:"performance-optimization-guidelines",level:3},{value:"For Physics Updates (&lt; 50ms target)",id:"for-physics-updates--50ms-target",level:4},{value:"Common Performance Issues and Solutions",id:"common-performance-issues-and-solutions",level:4},{value:"Validation Checklist",id:"validation-checklist",level:3},{value:"Performance Testing Script",id:"performance-testing-script",level:3}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"performance-validation-for-physics-simulation",children:"Performance Validation for Physics Simulation"})}),"\n",(0,t.jsx)(s.h2,{id:"performance-targets",children:"Performance Targets"}),"\n",(0,t.jsx)(s.p,{children:"As specified in the requirements, the physics simulation must meet these performance targets:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Gazebo physics updates: < 50ms response time"}),"\n",(0,t.jsx)(s.li,{children:"Unity rendering: < 100ms response time"}),"\n",(0,t.jsx)(s.li,{children:"Docusaurus builds: Complete in < 2 minutes"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"validation-methodology",children:"Validation Methodology"}),"\n",(0,t.jsx)(s.h3,{id:"physics-update-time-measurement",children:"Physics Update Time Measurement"}),"\n",(0,t.jsx)(s.p,{children:"To validate that Gazebo physics updates meet the < 50ms requirement:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Monitor simulation real-time factor (RTF)"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"RTF = simulation time elapsed / wall clock time elapsed"}),"\n",(0,t.jsx)(s.li,{children:"For real-time performance: RTF should be close to 1.0"}),"\n",(0,t.jsx)(s.li,{children:"Formula: Physics update time \u2248 (1/RTF) \xd7 max_step_size"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Use Gazebo's built-in statistics"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"gz topic -e -t /statistics\n"})}),"\n",(0,t.jsx)(s.p,{children:"This provides detailed timing information about simulation steps."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Measure topic update rates"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ros2 topic hz /basic_humanoid/joint_states\n"})}),"\n",(0,t.jsx)(s.p,{children:"Should be close to the configured publish rate (50Hz in our configuration)."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"tools-for-performance-measurement",children:"Tools for Performance Measurement"}),"\n",(0,t.jsx)(s.h4,{id:"gazebo-statistics",children:"Gazebo Statistics"}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"/statistics"})," topic provides:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Real-time factor"}),"\n",(0,t.jsx)(s.li,{children:"Simulation time vs. wall time"}),"\n",(0,t.jsx)(s.li,{children:"Pause time"}),"\n",(0,t.jsx)(s.li,{children:"CPU usage"}),"\n",(0,t.jsx)(s.li,{children:"Maximum step size timing"}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"ros-2-tools",children:"ROS 2 Tools"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ros2 topic hz"}),": Measures message frequency"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ros2 topic echo -p"}),": Measures message latency"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ros2 run topic_tools relay"}),": For message forwarding analysis"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"performance-optimization-guidelines",children:"Performance Optimization Guidelines"}),"\n",(0,t.jsx)(s.h4,{id:"for-physics-updates--50ms-target",children:"For Physics Updates (< 50ms target)"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Reduce complexity"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Simplify collision geometries where possible"}),"\n",(0,t.jsx)(s.li,{children:"Reduce the number of complex joints"}),"\n",(0,t.jsx)(s.li,{children:"Limit the number of simultaneous contacts"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Adjust solver parameters"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Increase ODE solver iterations for accuracy vs. performance trade-off"}),"\n",(0,t.jsx)(s.li,{children:"Adjust CFM and ERP values for stability"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Optimize world design"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Minimize unnecessary objects"}),"\n",(0,t.jsx)(s.li,{children:"Use appropriate contact surface layers"}),"\n",(0,t.jsx)(s.li,{children:"Set proper max_contacts limits"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"common-performance-issues-and-solutions",children:"Common Performance Issues and Solutions"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Slow physics"}),": Reduce max_step_size or increase real_time_update_rate"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Unstable simulation"}),": Increase solver iterations or adjust ERP/CFM"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"High CPU usage"}),": Simplify collision meshes or reduce update rates"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"validation-checklist",children:"Validation Checklist"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Real-time factor stays close to 1.0 during simulation"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Physics update times consistently below 50ms"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Simulation maintains stable frame rate"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","No dropped physics steps during complex interactions"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Robot joint states update at expected frequency (50Hz)"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"performance-testing-script",children:"Performance Testing Script"}),"\n",(0,t.jsx)(s.p,{children:"A complete performance validation would include a test script that:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Runs the simulation for a fixed duration"}),"\n",(0,t.jsx)(s.li,{children:"Records statistics at regular intervals"}),"\n",(0,t.jsx)(s.li,{children:"Calculates average and peak physics update times"}),"\n",(0,t.jsx)(s.li,{children:"Verifies all metrics meet requirements"}),"\n",(0,t.jsx)(s.li,{children:"Generates a performance report"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"This validation ensures the physics simulation provides real-time performance suitable for digital twin applications."})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>r,x:()=>a});var n=i(6540);const t={},l=n.createContext(t);function r(e){const s=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);